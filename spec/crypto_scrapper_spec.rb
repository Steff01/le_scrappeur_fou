require '../lib/crypto_scrapper'

describe "crypto_scrapper" do
    it "should return the index of min of buying and max of selling" do
        expect(crypto_scrapper("https://coinmarketcap.com/all/views/all/")).to eq([{"BTC"=>9325.81}, {"ETH"=>176.39}, {"XRP"=>0.236856}, {"BCH"=>384.28}, {"BSV"=>288.98}, {"USDT"=>1.0}, {"LTC"=>60.49}, {"EOS"=>4.03}, {"BNB"=>18.05}, {"ADA"=>0.056005}, {"ETC"=>12.39}, {"TRX"=>0.01886}, {"XLM"=>0.060432}, {"XMR"=>69.14}, {"XTZ"=>1.59}, {"DASH"=>116.93}, {"LINK"=>2.72}, {"LEO"=>0.906539}, {"ATOM"=>4.4}, {"NEO"=>11.4}, {"MIOTA"=>0.286445}, {"HT"=>3.34}, {"HEDG"=>2.47}, {"CRO"=>0.052162}, {"MKR"=>529.09}, {"ZEC"=>59.09}, {"ONT"=>0.714503}, {"USDC"=>1.02}, {"XEM"=>0.041033}, {"VET"=>0.005749}, {"BAT"=>0.221547}, {"DOGE"=>0.002426}, {"FTT"=>2.37}, {"PAX"=>1.0}, {"DCR"=>19.28}, {"BTG"=>11.74}, {"QTUM"=>2.07}, {"SNX"=>1.08}, {"REP"=>14.29}, {"RVN"=>0.027104}, {"ZRX"=>0.229517}, {"TUSD"=>1.0}, {"MOF"=>1.57}, {"SXP"=>2.02}, {"ALGO"=>0.240773}, {"OKB"=>3.15}, {"ZB"=>0.269168}, {"OMG"=>0.83802}, {"BCD"=>0.61717}, {"HOT"=>0.000669}, {"LSK"=>0.887872}, {"DAI"=>1.0}, {"ICX"=>0.200753}, {"ZEN"=>11.4}, {"NANO"=>0.708453}, {"KCS"=>1.14}, {"THETA"=>0.104241}, {"CKB"=>0.006819}, {"WAVES"=>0.883691}, {"BTM"=>0.087505}, {"MONA"=>1.32}, {"DGB"=>0.006681}, {"MCO"=>5.06}, {"BTT"=>0.000372}, {"CENNZ"=>0.072484}, {"SEELE"=>0.10862}, {"NEXO"=>0.13418}, {"KMD"=>0.623089}, {"SC"=>0.001736}, {"ENJ"=>0.088207}, {"HC"=>1.54}, {"IOST"=>0.00568}, {"VSYS"=>0.03481}, {"DGD"=>31.96}, {"DX"=>0.001222}, {"XVG"=>0.003705}, {"STEEM"=>0.164687}, {"XZC"=>6.27}, {"QNT"=>4.74}, {"BTS"=>0.020068}, {"ZIL"=>0.005524}, {"LUNA"=>0.188062}, {"KICK"=>8.2e-05}, {"BCN"=>0.000286}, {"ABBC"=>0.094612}, {"AE"=>0.173209}, {"MAID"=>0.110694}, {"KNC"=>0.278809}, {"RIF"=>0.084935}, {"RLC"=>0.582957}, {"NRG"=>1.8}, {"ARDR"=>0.044681}, {"ETN"=>0.004358}, {"MATIC"=>0.016963}, {"YAP"=>0.28475}, {"BST"=>1.55}, {"CRPT"=>0.395213}, {"ADK"=>1.55}, {"GNT"=>0.039281}, {"SNT"=>0.011043}, {"MANA"=>0.035367}, {"SOLVE"=>0.112546}, {"NPXS"=>0.000157}, {"REN"=>0.043977}, {"EURS"=>1.11}, {"BEAM"=>0.650072}, {"ELF"=>0.063607}, {"GRIN"=>1.06}, {"STRAT"=>0.33403}, {"HPT"=>0.006384}, {"TOMO"=>0.430996}, {"AION"=>0.081917}, {"GXC"=>0.454929}, {"ELA"=>1.62}, {"LEND"=>0.025365}, {"DGTX"=>0.035459}, {"DRG"=>0.080101}, {"CHZ"=>0.007267}, {"ENG"=>0.36176}, {"TT"=>0.009272}, {"LRC"=>0.027736}, {"ETP"=>0.332178}, {"SAI"=>1.0}, {"RCN"=>0.049313}, {"FET"=>0.037436}, {"ILC"=>0.060406}, {"HBAR"=>0.011556}, {"WICC"=>0.125127}, {"WTC"=>0.411393}, {"TRUE"=>0.295416}, {"NAS"=>0.449109}, {"STX"=>0.094481}, {"WAXP"=>0.022379}, {"IGNIS"=>0.029752}, {"ANT"=>0.708431}, {"IOTX"=>0.004048}, {"PAI"=>0.014548}, {"HYN"=>0.066311}, {"BRD"=>0.236664}, {"RDD"=>0.000728}, {"GT"=>0.439174}, {"NEX"=>0.889234}, {"WIN"=>0.000104}, {"XMX"=>0.001132}, {"WAN"=>0.191155}, {"TNT"=>0.047292}, {"BUSD"=>1.0}, {"PLBT"=>4.98}, {"GO"=>0.022064}, {"NULS"=>0.265948}, {"EKT"=>0.026938}, {"VTC"=>0.363544}, {"POWR"=>0.045}, {"ARK"=>0.161624}, {"FUN"=>0.002863}, {"BHP"=>0.924603}, {"LAMB"=>0.02695}, {"DIVI"=>0.012411}, {"CVC"=>0.02752}, {"ONE"=>0.005025}, {"CTXC"=>0.072258}, {"QASH"=>0.050845}, {"PPT"=>0.333039}, {"NEW"=>0.001225}, {"FCT"=>2.0}, {"R"=>0.035842}, {"LOOM"=>0.017882}, {"BNT"=>0.25011}, {"CHSB"=>0.025234}, {"STORJ"=>0.126455}, {"LOKI"=>0.363589}, {"YOU"=>0.037402}, {"EDC"=>0.006184}, {"SYS"=>0.02845}, {"FTM"=>0.008984}, {"MDA"=>0.823271}, {"DPT"=>9.31}, {"PIVX"=>0.28126}, {"OCEAN"=>0.043385}, {"DCN"=>3.3e-05}, {"DENT"=>0.000191}, {"MX"=>0.071993}, {"MTL"=>0.244006}, {"GNO"=>13.39}, {"WXT"=>0.009847}, {"RUNE"=>0.113828}, {"GRS"=>0.19173}, {"NMR"=>6.3}, {"DMT"=>0.242524}, {"KAN"=>0.002183}, {"SAN"=>0.214384}, {"ABT"=>0.134646}, {"BOA"=>0.054797}, {"BIX"=>0.128691}, {"BLOCK"=>2.03}, {"ROX"=>0.04353}, {"MEDX"=>0.0038}, {"ORBS"=>0.006467}, {"ERD"=>0.001496}])
    end


end
